<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/devtools-panel.css">
    <script src="utils/beacon.js"></script>
    <script src="../lib/errors-decompression.js"></script>
    <script id="template-content-events" type="text/x-handlebars-template">
      <table>
        <tbody>
            {{#each data}}
              <tr>
                <td>
                  {{this.timeStamp}}
                </td>
                <td>
                  {{this.type}}
                </td>
                {{#if this.isBeacon}}
                  <td>
                    <table>
                      <thead>
                          <tr>
                            {{#each ../columns}}
                              <th>{{this}}</th>
                            {{/each}}
                          </tr>
                      </thead>
                      <tbody>
                        {{#each ../columns}}
                          <td>{{lookup .. this}}</td>
                        {{/each}}
                      </tbody>
                    </table>
                  </td>
                {{else if this.isCall}}
                  <td>
                    <ul class="stack">
                      <span class="methodcall">{{this.method}}</span><br/>
                      {{#each this.stack}}
                        {{#if @first}}
                          <li><span class="caret">{{this}}</span>
                            <ul class="stack nested">
                        {{else if @last}}
                              <li>{{this}}</li>
                            </ul>
                          </li>
                        {{else}}
                            <li>{{this}}</li>
                        {{/if}}
                      {{/each}}
                    </ul>
                  </td>
                {{else if this.isEvent}}
                  <td>{{this.event}}</td>
                {{else if this.isHistory}}
                  <td>{{this.url}}</td>
                {{else if this.isUpdate}}
                  <td>{{this.url}}</td>
                {{else if this.isNavigation}}
                  <td>{{this.url}}</td>
                {{else if this.isRequest}}
                  <!--
                  <td colspan="columns.length">{{this.url}}</td>
                  -->
                {{else if this.isOverride}}
                  <td>
                    <ul class="stack">
                      <span class="nativeoverride">{{this.native}}</span><br/>
                      {{#each this.stack}}
                        {{#if @first}}
                          <li><span class="caret">{{this}}</span>
                            <ul class="stack nested">
                        {{else if @last}}
                              <li>{{this}}</li>
                            </ul>
                          </li>
                        {{else}}
                            <li>{{this}}</li>
                        {{/if}}
                      {{/each}}
                    </ul>
                  </td>
                {{/if}}
              </tr>
            {{/each}}
        </tbody>
      </table>
    </script>
    <script id="template-content-config" type="text/x-handlebars-template">
      Overrides:
      <pre>{{overrides}}</pre>
      Config:
      <pre>{{config}}</pre>
    </script>
    <script src="devtools-panel.js"></script>
  </head>
  <body>
    <iframe id="sandbox-iframe" src="sandbox.html" style="width:0;height:0;border:none;"></iframe>
    <div>
      <table>
        <tr><td>Version</td><td><div id="version"></div></td></tr>
        <tr><td>Akamai mPulse API Key</td><td><div id="apikey"></div></td></tr>
      </table>
    </div>
    <div class="tabs">
      <div class="tab">
        <input type="radio" id="tab-events" name="tabs" checked>
        <label for="tab-events">Events</label>
        <div id="content-events" class="content">
        </div>
      </div>

      <div class="tab">
        <input type="radio" id="tab-config" name="tabs">
        <label for="tab-config">Config</label>
        <div id="content-config" class="content">
        </div>
      </div>
    </div>
  </body>
</html>
